<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Advent 3rd Sunday: Joy (Balanced Position)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;800;900&family=Noto+Sans+KR:wght@300;400;500;700;900&display=swap');

        /* 1. Global Setup */
        html, body {
            margin: 0;
            padding: 0;
            height: 100%;
            overflow: hidden;
            background-color: #000;
        }

        .scroll-container {
            height: 100vh;
            overflow-y: scroll;
            overflow-x: hidden;
            scroll-snap-type: y mandatory;
            scroll-behavior: smooth;
            scrollbar-width: none; 
            touch-action: pan-y; 
        }
        .scroll-container::-webkit-scrollbar { 
            display: none; 
        }

        .snap-section {
            height: 100vh;
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            scroll-snap-align: start;
            scroll-snap-stop: always;
            position: relative;
            perspective: 1000px;
            
            /* Adjusted Position: Less padding than before (15vh -> 6vh) */
            padding-bottom: 6vh; 
            box-sizing: border-box;
        }

        .eng-font { font-family: 'Montserrat', sans-serif; }
        .eng-sub {
            font-family: 'Montserrat', sans-serif;
            font-size: 0.75rem;
            color: rgba(255, 255, 255, 0.7);
            margin-top: 0.5rem;
            line-height: 1.4;
            font-weight: 500;
        }

        /* 2. Card Styling - 10.5:16 Ratio */
        .story-card {
            aspect-ratio: 10.5 / 16; 
            width: 100%;
            max-width: 420px; 
            max-height: 88vh; /* Optimized max-height */
            position: relative;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            padding: 4rem 2rem 5rem 2rem;
            background-color: #121212;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            border-radius: 20px;
            
            /* Initial State */
            opacity: 0;
            transform-origin: center bottom; 
            transition: transform 0.1s linear, opacity 0.5s ease;
        }

        .story-card.active {
            opacity: 1;
        }

        .story-card.is-dragging {
            transition: none;
            cursor: grabbing;
        }

        .story-card.fly-out-left {
            transition: all 0.5s ease-out;
            transform: translateX(-150%) rotate(-20deg) !important;
            opacity: 0;
        }
        .story-card.fly-out-right {
            transition: all 0.5s ease-out;
            transform: translateX(150%) rotate(20deg) !important;
            opacity: 0;
        }

        /* 3. Internal Content Animations */
        .story-card .anim-text, 
        .story-card .anim-box,
        .story-card .anim-icon {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.6s ease-out;
        }
        
        .story-card.active .anim-text { opacity: 1; transform: translateY(0); }
        .story-card.active .anim-icon { opacity: 1; transform: translateY(0) scale(1); transition-delay: 0.2s; }
        .story-card.active .anim-box { opacity: 1; transform: translateY(0); transition-delay: 0.4s; }
        
        /* Design Utilities */
        .glass-box {
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 16px;
            padding: 1.5rem;
        }
        .neon-text { text-shadow: 0 0 15px rgba(255, 255, 255, 0.4); }

        /* Gradients */
        .bg-gradient-1 { background: linear-gradient(145deg, #2e0249, #570a57); }
        .bg-gradient-2 { background: linear-gradient(145deg, #0f0c29, #201b45, #24243e); }
        .bg-gradient-warning { background: linear-gradient(145deg, #1a1a1a, #380404); }
        .bg-gradient-3 { background: linear-gradient(145deg, #4a1955, #962f51); }
        .bg-gradient-4 { background: linear-gradient(145deg, #0a0a0a, #2d2d2d); }
        .bg-gradient-5 { background: linear-gradient(145deg, #0f1642, #146b69); }
        .bg-gradient-6 { background: linear-gradient(145deg, #9f3c1d, #c24145); }
        .bg-gradient-7 { background: linear-gradient(145deg, #8a1455, #d97d2e); }

        /* Navigation Cue */
        .nav-cue {
            position: absolute;
            bottom: 2vh;
            left: 50%;
            transform: translateX(-50%);
            color: rgba(255,255,255,0.3);
            font-size: 0.8rem;
            animation: bounce 2s infinite;
            pointer-events: none;
            z-index: 50;
        }
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {transform: translateX(-50%) translateY(0);}
            40% {transform: translateX(-50%) translateY(-10px);}
            60% {transform: translateX(-50%) translateY(-5px);}
        }

    </style>
</head>
<body>

<div class="scroll-container" id="mainContainer">

    <!-- Section 1 -->
    <section class="snap-section">
        <div class="story-card bg-gradient-1">
            <div class="absolute top-[-50px] right-[-50px] w-60 h-60 bg-purple-500 rounded-full blur-[80px] opacity-40"></div>
            <div class="flex-grow flex flex-col justify-center h-full z-10">
                <p class="eng-font text-sm font-bold tracking-[0.4em] mb-2 text-purple-200 anim-text">ADVENT WEEK 03</p>
                <h1 class="eng-font text-[5rem] font-black leading-none tracking-tighter mb-4 neon-text anim-text text-white">
                    JOY<br>
                    <span class="text-transparent bg-clip-text bg-gradient-to-r from-yellow-300 via-pink-400 to-pink-500" style="-webkit-background-clip: text;">FULL</span>
                </h1>
                <div class="glass-box mt-8 anim-box">
                    <p class="text-lg font-bold mb-1 text-white">ì˜¤ëŠ˜ì˜ í…Œë§ˆ : ê¸°ì¨ ğŸ‰</p>
                    <p class="eng-sub mb-2">Today's Theme is Joy.</p>
                    <p class="text-sm text-gray-200 font-light leading-relaxed">
                        í¬ë¦¬ìŠ¤ë§ˆìŠ¤ë¥¼ ê¸°ë‹¤ë¦¬ëŠ”<br>
                        ìš°ë¦¬ì˜ ì„¸ ë²ˆì§¸ ë§ˆìŒì…ë‹ˆë‹¤.
                    </p>
                    <p class="eng-sub">It is our third heart waiting for Christmas.</p>
                </div>
            </div>
        </div>
        <div class="nav-cue"><i class="fas fa-chevron-down"></i> Scroll or Swipe</div>
    </section>

    <!-- Section 2 -->
    <section class="snap-section">
        <div class="story-card bg-gradient-2">
            <div class="flex justify-between items-center mb-8 anim-text">
                <span class="eng-font font-bold text-2xl text-white/30">01</span>
                <div class="flex space-x-2">
                    <div class="w-3 h-3 rounded-full bg-yellow-400 box-shadow"></div>
                    <div class="w-3 h-3 rounded-full bg-blue-500 box-shadow"></div>
                    <div class="w-3 h-3 rounded-full bg-red-500 box-shadow"></div>
                </div>
            </div>
            <div class="flex-grow flex flex-col justify-center">
                <h2 class="text-3xl font-bold mb-2 leading-snug text-white anim-text">
                    ë„¤ ë§ˆìŒì†<br>
                    <span class="text-yellow-400">ì»¨íŠ¸ë¡¤ ë³¸ë¶€</span>ëŠ”<br>
                    ì•ˆë…•í•´?
                </h2>
                <p class="eng-font text-sm text-gray-300 italic mb-6 anim-text">Like the movie 'Inside Out'</p>
                <div class="glass-box border-l-4 border-yellow-400 anim-box">
                    <p class="text-sm leading-relaxed text-gray-100">
                        ê¸°ì¨ì´, ìŠ¬í””ì´, ì†Œì‹¬ì´...<br>
                        ìš°ë¦¬ ì•ˆì—” ì°¸ ë§ì€ ê°ì •ì´ ì‚´ì•„.<br>
                        í•˜ì§€ë§Œ <strong>ì´ìœ  ì—†ëŠ” ê°ì •</strong>ì€ ì—†ì–´.
                    </p>
                    <p class="eng-sub">Joy, Sadness, Fear...<br>There is no emotion without context.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Section 3 -->
    <section class="snap-section">
        <div class="story-card bg-gradient-warning">
            <div class="absolute inset-0 opacity-20" style="background-image: radial-gradient(#fff 1px, transparent 1px); background-size: 20px 20px;"></div>
            <div class="flex justify-between items-center mb-8 z-10 anim-text">
                <span class="eng-font font-bold text-2xl text-white/30">02</span>
            </div>
            <div class="flex-grow flex flex-col justify-center z-10">
                <div class="mb-4 anim-icon">
                    <i class="fas fa-triangle-exclamation text-4xl text-yellow-500 mb-4"></i>
                    <h2 class="eng-font text-4xl font-black uppercase text-gray-100">Context<br>Check</h2>
                </div>
                <div class="anim-text">
                    <p class="text-xl font-bold text-white mb-2">"ë§¥ë½ ì—†ëŠ” ê¸°ì¨ì€ ìœ„í—˜í•´"</p>
                    <p class="eng-sub mb-4">The Bible warns against joy without context.</p>
                    <p class="text-sm text-gray-300 leading-relaxed">
                        ì„±ê²½ì€ ìš°ë¦¬ê°€ <strong>'ë¬´ì—‡ ë•Œë¬¸ì—'</strong><br>
                        ê¸°ë»í•˜ëŠ”ì§€ ì•„ì£¼ ì¤‘ìš”í•˜ê²Œ ë´.
                    </p>
                    <p class="eng-sub">It matters what makes us rejoice.<br>What is the source of your joy?</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Section 4 -->
    <section class="snap-section">
        <div class="story-card bg-gradient-3">
            <div class="flex justify-between items-center mb-8 anim-text">
                <span class="eng-font font-bold text-2xl text-white/30">03</span>
            </div>
            <div class="flex-grow flex flex-col justify-center text-center">
                <h2 class="eng-font text-5xl font-black text-white/10 absolute top-20 left-0 w-full anim-text">FAKE<br>JOY</h2>
                <div class="relative z-10">
                    <h3 class="text-2xl font-bold mb-2 text-white anim-text">ì´ìŠ¤ë¼ì—˜ì˜ ì‹¤ìˆ˜</h3>
                    <p class="eng-sub mb-4 anim-text">The Mistake of Israel</p>

                    <div class="anim-box glass-box bg-white/5 border-none">
                        <p class="text-sm leading-7 text-gray-100 mb-2">
                            ê·¸ë“¤ì€ í•˜ë‚˜ë‹˜ ë•Œë¬¸ì´ ì•„ë‹ˆë¼,<br>
                            <span class="text-pink-300 font-bold">ìš°ìƒ ìˆ­ë°°</span>ì™€ <span class="text-pink-300 font-bold">í˜ì˜¤</span>ë¡œ ê¸°ë»í–ˆì–´.<br>
                            ê·¸ê±´ ì§„ì§œê°€ ì•„ë‹ˆì•¼.
                        </p>
                        <p class="eng-sub">They rejoiced in idolatry and hatred,<br>not in God. That was not true joy.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Section 5 -->
    <section class="snap-section">
        <div class="story-card bg-gradient-4">
            <div class="flex justify-between items-center mb-8 anim-text">
                <span class="eng-font font-bold text-2xl text-white/30">04</span>
            </div>
            <div class="flex-grow flex flex-col justify-center">
                <p class="eng-font text-xs text-gray-400 tracking-widest mb-2 anim-text">DEEP INSIDE</p>
                <h2 class="text-2xl font-bold mb-6 text-white anim-text">ì‚¬ì‹¤ì€...<br>ë‘ë ¤ì› ë˜ ê±°ì•¼ ğŸ˜¨</h2>
                
                <div class="glass-box mb-4 border-l-0 border-r-4 border-gray-500 anim-box">
                    <p class="text-sm text-gray-200 leading-relaxed italic">
                        "ë‹¤ì‹œëŠ” ì•…ì„ ë‘ë ¤ì›Œí•˜ì§€ ì•Šì„ ê±°ì•¼"
                    </p>
                    <p class="eng-sub text-gray-400 not-italic mt-1">"You shall not fear evil anymore." (Zeph 3:15)</p>
                </div>
                <div class="anim-text">
                    <p class="text-sm leading-relaxed text-gray-300">
                        ì´ ë§ì”€ì€ ê·¸ë“¤ ë§ˆìŒ ê¹Šì€ ê³³ì—<br>
                        <strong>ì£„ë¡œ ì¸í•œ ë‘ë ¤ì›€</strong>ì´ ìˆì—ˆë‹¤ëŠ” ì¦ê±°ì•¼.
                    </p>
                    <p class="eng-sub text-gray-400">Deep down, they were filled with fear caused by sin.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Section 6 -->
    <section class="snap-section">
        <div class="story-card bg-gradient-5">
            <div class="absolute top-0 right-0 w-64 h-64 bg-cyan-400 rounded-full blur-[100px] opacity-20"></div>
            <div class="flex justify-between items-center mb-8 anim-text">
                <span class="eng-font font-bold text-2xl text-white/30">05</span>
            </div>
            <div class="flex-grow flex flex-col justify-center">
                <h2 class="eng-font text-5xl font-black mb-2 text-transparent bg-clip-text bg-gradient-to-r from-white via-cyan-200 to-cyan-400 anim-text" style="-webkit-background-clip: text;">
                    BUT<br>GOD.
                </h2>
                <div class="my-6 anim-box">
                    <p class="text-xl font-bold mb-2 text-white">ë‘ë ¤ì›€ ì‚­ì œ ë²„íŠ¼ ğŸ”˜</p>
                    <p class="text-sm text-gray-200 leading-relaxed mb-4">
                        "ìš°ë¦¬ë¥¼ í˜¼ì ë‘ì§€ ì•Šìœ¼ì‹œê² ë‹¤."<br>
                        ì´ê±´ ë‹¨ìˆœíˆ ì˜†ì— ê³„ì‹ ë‹¤ëŠ” ìœ„ë¡œê°€ ì•„ëƒ.<br>
                        <br>
                        ìš°ë¦¬ë¥¼ ì™¸ë¡­ê²Œ ë§Œë“¤ì—ˆë˜ ê°€ì¥ í° ì›ì¸,<br>
                        <strong class="text-cyan-300 border-b border-cyan-300">'ì£„ì˜ ë¬¸ì œ'ë¥¼ ë¿Œë¦¬ì§¸ í•´ê²°í•˜ì…¨ë‹¤</strong>ëŠ” ëœ»ì´ì§€.
                    </p>
                    <p class="eng-sub text-cyan-100">
                        He didn't just stay with us. He fundamentally solved the problem of sin that separated us from Him.
                    </p>
                </div>
                <div class="glass-box bg-blue-900/40 border-blue-400/30 anim-box">
                    <p class="eng-font text-lg font-bold text-center text-blue-100">"GOD IS WITH US"</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Section 7 -->
    <section class="snap-section">
        <div class="story-card bg-gray-900">
            <div class="flex justify-between items-center mb-8 anim-text">
                <span class="eng-font font-bold text-2xl text-white/30">06</span>
            </div>
            <div class="flex-grow flex flex-col justify-center">
                <i class="fas fa-moon text-4xl text-gray-400 mb-6 anim-icon"></i>
                <h2 class="text-2xl font-bold mb-2 text-white anim-text">ì˜¤ëŠ˜ ë°¤ì€<br>ìš¸ì–´ë„ ê´œì°®ì•„ ğŸŒ™</h2>
                <p class="eng-sub mb-4 anim-text">Weeping may tarry for the night.</p>
                
                <div class="anim-box">
                    <p class="text-sm text-gray-300 leading-relaxed">
                        ì–µì§€ë¡œ ì›ƒìœ¼ë ¤ í•˜ì§€ ë§ˆ.<br>
                        ì—¬ì „íˆ ë¬¸ì œë“¤ì´ ìš°ë¦¬ë¥¼ ì•„í”„ê²Œ í•  ë•Œ,<br>
                        ë‹¤ìœ—ë„ ìš°ë¦¬ì²˜ëŸ¼ ë°¤ìƒˆ ìš¸ì—ˆì–´.
                    </p>
                    <p class="eng-sub text-gray-400">Don't force a smile. Even David wept when problems overwhelmed him.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Section 8 -->
    <section class="snap-section">
        <div class="story-card bg-gradient-6">
            <div class="absolute inset-x-0 bottom-0 h-1/2 bg-gradient-to-t from-orange-800/60 to-transparent pointer-events-none"></div>
            <div class="flex justify-between items-center mb-8 z-10 anim-text">
                <span class="eng-font font-bold text-2xl text-white/30">07</span>
            </div>
            <div class="flex-grow flex flex-col justify-center z-10">
                <p class="text-xs font-bold text-yellow-200 mb-1 anim-text">THE SECRET OF JOY</p>
                <h2 class="eng-font text-3xl font-black mb-6 leading-tight text-white anim-text">
                    WAITING FOR<br>
                    <span class="text-yellow-300 text-4xl">HIM</span>
                </h2>

                <div class="space-y-4 anim-box">
                    <div>
                        <p class="text-sm text-white font-bold leading-relaxed">ë‹¤ìœ—ì€ í•˜ë‚˜ë‹˜ì˜ ì„±ì „ì„ ê¸°ë‹¤ë ¸ì–´.</p>
                        <p class="eng-sub text-white/80">David waited for God's Temple.</p>
                    </div>
                    <div>
                        <p class="text-sm text-white leading-relaxed">
                            ê·¸ê±´ ê²°êµ­ ìš°ë¦¬ì™€ í•¨ê»˜í•˜ì‹¤<br>
                            <strong class="text-yellow-300 border-b border-yellow-300">ì˜ˆìˆ˜ë‹˜</strong>ì„ ê¸°ë‹¤ë¦° ê±°ì•¼.
                        </p>
                        <p class="eng-sub text-white/80">He was waiting for Jesus to be with us.</p>
                    </div>
                </div>

                <div class="glass-box bg-white/10 text-center mt-6 anim-box">
                    <p class="text-sm font-bold text-white">ê·¸ 'ê¸°ëŒ€'ê°€ ë‚´ì¼ì˜ ê¸°ì¨ì´ ë˜ì—ˆì§€.</p>
                    <p class="eng-sub text-white/90">That expectation became his joy for tomorrow.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Section 9 -->
    <section class="snap-section">
        <div class="story-card bg-gradient-7">
            <div class="flex justify-between items-center mb-8 z-10 anim-text">
                <span class="eng-font font-bold text-2xl text-white/30">FINAL</span>
            </div>

            <div class="flex-grow flex flex-col justify-center items-center text-center z-10">
                <h2 class="eng-font text-4xl font-black mb-2 text-white anim-text">
                    OUR<br>TOMORROW
                </h2>
                <p class="text-xs font-bold text-yellow-200 uppercase tracking-widest mb-6 anim-text">Maranatha</p>

                <div class="anim-box">
                    <p class="text-sm text-white leading-relaxed mb-1">
                        2ì²œ ë…„ ì „ ìš°ë¦¬ì—ê²Œ ì˜¤ì‹  ê·¸ë¶„ì„ ê¸°ì–µí•˜ë©°<br>
                        ìš°ë¦¬ëŠ” <strong>ë§ˆì§€ë§‰ ë‚ </strong>ì„ ë°”ë¼ë³´ë©° ì‚´ì•„ê°€.
                    </p>
                    <p class="eng-sub text-white/80 mb-6">
                        Remembering Him who came 2000 years ago, we live looking forward to the final day.
                    </p>
                </div>

                <div class="bg-black/30 backdrop-blur-md p-5 rounded-xl border border-white/20 w-full anim-box">
                    <p class="text-base font-bold text-white mb-1">"ì•„ì¹¨ì—ëŠ” ê¸°ì¨ì´ ì˜¤ë¦¬ì´ë‹¤"</p>
                    <p class="eng-sub text-white/90 italic">Joy comes with the morning.<br>Let's expect the joy of hope.</p>
                </div>
            </div>

            <div class="absolute bottom-6 w-full text-center left-0 anim-icon">
                <i class="fas fa-sun text-yellow-300 animate-pulse text-2xl"></i>
            </div>
        </div>
    </section>

</div>

<script>
    /* =========================================
       1. Animation Observer (Entry Animations)
       ========================================= */
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                const card = entry.target.querySelector('.story-card');
                if(card) {
                    card.classList.add('active');
                    // Reset any drag transforms when card becomes active (centering)
                    card.style.transform = ''; 
                }
                
                // Update active index
                const allSections = document.querySelectorAll('.snap-section');
                allSections.forEach((sec, idx) => {
                    if(sec === entry.target) {
                        currentIndex = idx;
                    }
                });
            } else {
                 const card = entry.target.querySelector('.story-card');
                 if(card) {
                     card.classList.remove('active');
                     card.classList.remove('fly-out-left', 'fly-out-right'); // Reset fly-out classes
                 }
            }
        });
    }, { threshold: 0.5 }); 

    const sections = document.querySelectorAll('.snap-section');
    sections.forEach(section => observer.observe(section));

    /* =========================================
       2. Draggable Card Logic
       ========================================= */
    const container = document.getElementById('mainContainer');
    let currentIndex = 0;
    let isNavigating = false;
    const totalSections = sections.length;

    // Helper to scroll
    const scrollToSection = (index) => {
        if (index < 0 || index >= totalSections || isNavigating) return;
        isNavigating = true;
        sections[index].scrollIntoView({ behavior: 'smooth' });
        setTimeout(() => { isNavigating = false; }, 800);
    };

    // Keyboard support
    document.addEventListener('keydown', (e) => {
        if (e.key === 'ArrowDown' || e.key === 'ArrowRight') {
            e.preventDefault();
            // Simulate fly out left (Next)
            const currentCard = sections[currentIndex].querySelector('.story-card');
            if(currentCard) currentCard.classList.add('fly-out-left');
            setTimeout(() => scrollToSection(currentIndex + 1), 300);
        } else if (e.key === 'ArrowUp' || e.key === 'ArrowLeft') {
            e.preventDefault();
            // Simulate fly out right (Prev)
            const currentCard = sections[currentIndex].querySelector('.story-card');
            if(currentCard) currentCard.classList.add('fly-out-right');
            setTimeout(() => scrollToSection(currentIndex - 1), 300);
        }
    });

    // Touch Drag Variables
    let startX = 0;
    let currentX = 0;
    let isDragging = false;
    let activeCard = null;

    container.addEventListener('touchstart', (e) => {
        startX = e.touches[0].clientX;
        isDragging = true;
        activeCard = sections[currentIndex].querySelector('.story-card');
        if(activeCard) {
            activeCard.classList.add('is-dragging'); // Disable transition for direct control
        }
    }, { passive: true });

    container.addEventListener('touchmove', (e) => {
        if (!isDragging || !activeCard) return;
        
        currentX = e.touches[0].clientX;
        const diffX = currentX - startX;

        // Apply visual drag to card
        // Rotate slightly based on distance for realism
        const rotation = diffX * 0.05; 
        activeCard.style.transform = `translateX(${diffX}px) rotate(${rotation}deg)`;

    }, { passive: true });

    container.addEventListener('touchend', (e) => {
        if (!isDragging || !activeCard) return;
        isDragging = false;
        activeCard.classList.remove('is-dragging'); // Re-enable transition

        const diffX = currentX - startX;
        const threshold = window.innerWidth * 0.25; // Drag 25% of screen width to trigger

        if (Math.abs(diffX) > threshold) {
            // Trigger Navigation
            if (diffX < 0) {
                // Dragged Left -> Next
                activeCard.classList.add('fly-out-left');
                activeCard.style.transform = `translateX(-150%) rotate(-20deg)`;
                setTimeout(() => scrollToSection(currentIndex + 1), 300);
            } else {
                // Dragged Right -> Prev
                activeCard.classList.add('fly-out-right');
                activeCard.style.transform = `translateX(150%) rotate(20deg)`;
                setTimeout(() => scrollToSection(currentIndex - 1), 300);
            }
        } else {
            // Revert (Snap back)
            activeCard.style.transform = ''; 
        }
        
        startX = 0;
        currentX = 0;
    }, { passive: true });

</script>

</body>
</html>
